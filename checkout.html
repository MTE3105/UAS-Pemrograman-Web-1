<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <title>Checkout - BerkasLama</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

    <div class="container mt-5">
        <h3 class="mb-4">Checkout</h3>
        <div class="row">
            <div class="col-md-6">
                <div class="card shadow-sm mb-3">
                    <div class="card-body">
                        <h5>Data Pembeli</h5>
                        <p><strong>Nama:</strong> <span id="name"></span></p>
                        <p><strong>Email:</strong> <span id="email"></span></p>
                        <p><strong>No. HP:</strong> <span id="phone"></span></p>
                        <p><strong>Alamat:</strong> <span id="address"></span></p>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card shadow-sm mb-3">
                    <div class="card-body">
                        <h5>Detail Produk</h5>
                        <p><strong>Nama Produk:</strong> <span id="p-name"></span></p>
                        <p><strong>Harga:</strong> <span id="p-price"></span></p>
                        <p><strong>Kondisi:</strong> <span id="p-condition"></span></p>
                    </div>
                </div>
            </div>
        </div>
        <div class="d-flex gap-2">
            <a href="products.html" class="btn btn-secondary">
                ‚Üê Kembali ke Produk
            </a>
            <button class="btn btn-success ms-auto" onclick="confirmOrder()">
                Konfirmasi Pembelian
            </button>
        </div>
    </div>

    <script>

        if (localStorage.getItem("login") !== "true") {
            alert("Silakan login terlebih dahulu.");
            window.location.href = "login.html";
        }

        const user = JSON.parse(localStorage.getItem("user"));
        const product = JSON.parse(localStorage.getItem("checkoutProduct"));

        document.getElementById("p-name").innerText = product.name;
        document.getElementById("p-price").innerText = "Rp " + product.price.toLocaleString();
        document.getElementById("p-condition").innerText = product.condition;

        document.getElementById("name").innerText = user.name;
        document.getElementById("email").innerText = user.email;
        document.getElementById("phone").innerText = user.phone || "-";
        document.getElementById("address").innerText = user.address || "-";

        function confirmOrder() {
            alert("Pesanan berhasil dibuat!");
            localStorage.removeItem("checkoutProduct");
            window.location.href = "checkout-success.html";
        }
    </script>

</body>

</html>